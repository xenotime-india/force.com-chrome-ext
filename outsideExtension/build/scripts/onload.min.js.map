{"version":3,"sources":["onload.js"],"names":["load","_load","tag","url","Promise","resolve","reject","element","document","createElement","parent","attr","onload","onerror","async","type","rel","appendChild","css","js","img","filesToLoad","then","jQuery","remove","html","all","map","item","length","show","catch","err","console","error"],"mappings":"AAEA,IAAIA,KAAO,WAEP,SAASC,EAAMC,GACX,OAAO,SAASC,GAEZ,OAAO,IAAIC,QAAQ,SAASC,EAASC,GACjC,IAAIC,EAAUC,SAASC,cAAcP,GACjCQ,EAAS,OACTC,EAAO,MAWX,OARAJ,EAAQK,OAAS,WACbP,EAAQF,IAEZI,EAAQM,QAAU,WACdP,EAAOH,IAIJD,GACH,IAAK,SACDK,EAAQO,OAAQ,EAChB,MACJ,IAAK,OACDP,EAAQQ,KAAO,WACfR,EAAQS,IAAM,aACdL,EAAO,OACPD,EAAS,OAIjBH,EAAQI,GAAQR,EAChBK,SAASE,GAAQO,YAAYV,MAKzC,OACIW,IAAKjB,EAAM,QACXkB,GAAIlB,EAAM,UACVmB,IAAKnB,EAAM,QAxCR,GA4CPoB,cAEIlB,IAAK,wEACLY,KAAM,QAENZ,IAAI,0EACJY,KAAK,QAELZ,IAAI,sEACJY,KAAK,QAELZ,IAAI,sEACJY,KAAK,OAELZ,IAAI,iEACJY,KAAK,OAELZ,IAAI,sEACJY,KAAK,OAELZ,IAAI,0DACJY,KAAK,OAELZ,IAAI,wEACJY,KAAK,OAELZ,IAAI,uGACJY,KAAK,OAELZ,IAAI,qGACJY,KAAK,OAGbf,KAAKmB,GAAG,oEACHG,KAAK,WAGF,OAFAC,OAAO,0BAA0BC,SACjCD,OAAO,QAAQE,KAAK,IACb,IAAIrB,QAAQ,SAAUC,EAASC,GAClCiB,OAAQ,QAASvB,KAAM,6FAA8F,WACjHK,UAIXiB,KAAK,WACF,OAAOlB,QAAQsB,IAAIL,YAAYM,IAAI,SAAUC,GACzC,OAAQA,EAAKb,MACT,IAAK,KACD,OAAOf,KAAKmB,GAAGS,EAAKzB,KACxB,IAAK,MACD,OAAOH,KAAKkB,IAAIU,EAAKzB,WAIpCmB,KAAK,WACF,OAAOtB,KAAKmB,GAAG,uEAElBG,KAAK,WACF,OAAOtB,KAAKmB,GAAG,qGAElBG,KAAK,WACCC,OAAO,yBAAyBM,OAAS,GACxCN,OAAO,yBAAyBO,SAGvCC,MAAM,SAAUC,GACbC,QAAQC,MAAM,QAASF","file":"onload.min.js","sourcesContent":["//create namespace and shared variables\n\nvar load = (function() {\n    // Function which returns a function: https://davidwalsh.name/javascript-functions\n    function _load(tag) {\n        return function(url) {\n            // This promise will be used by Promise.all to determine success or failure\n            return new Promise(function(resolve, reject) {\n                var element = document.createElement(tag);\n                var parent = 'body';\n                var attr = 'src';\n\n                // Important success and error for the promise\n                element.onload = function() {\n                    resolve(url);\n                };\n                element.onerror = function() {\n                    reject(url);\n                };\n\n                // Need to set different attributes depending on tag type\n                switch(tag) {\n                    case 'script':\n                        element.async = true;\n                        break;\n                    case 'link':\n                        element.type = 'text/css';\n                        element.rel = 'stylesheet';\n                        attr = 'href';\n                        parent = 'head';\n                }\n\n                // Inject into document to kick off loading\n                element[attr] = url;\n                document[parent].appendChild(element);\n            });\n        };\n    }\n\n    return {\n        css: _load('link'),\n        js: _load('script'),\n        img: _load('img')\n    };\n})();\n\nvar filesToLoad = [\n    {\n        url: 'https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css',\n        type: 'css',\n    },{\n        url:\"https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/yeti/bootstrap.min.css\",\n        type:'css',\n    },{\n        url:\"https://cdn.datatables.net/1.10.16/css/dataTables.bootstrap.min.css\",\n        type:'css',\n    },{\n        url:\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\",\n        type:'js',\n    },{\n        url:\"https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js\",\n        type:'js',\n    },{\n        url:\"https://cdnjs.cloudflare.com/ajax/libs/jsforce/1.7.0/jsforce.min.js\",\n        type:'js',\n    },{\n        url:\"https://cdn.jsdelivr.net/bluebird/3.5.0/bluebird.min.js\",\n        type:'js',\n    },{\n        url:\"https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.20.1/moment.min.js\",\n        type:'js',\n    },{\n        url:\"https://xenotime-india.github.io/force.com-chrome-ext/outsideExtension/build/scripts/vendors/date.js\",\n        type:'js',\n    },{\n        url:\"https://xenotime-india.github.io/force.com-chrome-ext/outsideExtension/build/scripts/helper.min.js\",\n        type:'js',\n    }];\n\nload.js('https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js')\n    .then(function() {\n        jQuery(\"link[rel='stylesheet']\").remove();\n        jQuery('body').html('');\n        return new Promise(function (resolve, reject) {\n            jQuery( \"body\" ).load( \"https://xenotime-india.github.io/force.com-chrome-ext/outsideExtension/build/template.html\", function() {\n                resolve();\n            });\n        });\n    })\n    .then(function() {\n        return Promise.all(filesToLoad.map(function (item) {\n            switch (item.type) {\n                case 'js':\n                    return load.js(item.url);\n                case 'css':\n                    return load.css(item.url);\n            }\n        }));\n    })\n    .then(function () {\n        return load.js('https://cdn.datatables.net/1.10.16/js/dataTables.bootstrap.min.js');\n    })\n    .then(function(){\n        return load.js('https://xenotime-india.github.io/force.com-chrome-ext/outsideExtension/build/scripts/app.min.js');\n    })\n    .then(function(){\n        if(jQuery('#sfdcConsoleContainer').length > 0) {\n            jQuery('#sfdcConsoleContainer').show();\n        }\n    })\n    .catch(function (err) {\n        console.error('Error', err);\n    });"]}