{"version":3,"sources":["app.js"],"names":["apiVersion","requestMetadata","requestSqlData","type","table","soqlFields","soqlWhere","fields","apiFieldIndex","__getCookie","c_name","i","x","y","ARRcookies","document","cookie","split","length","substr","indexOf","replace","unescape","filterBy","filterByMetadata","sforce","jsforce","Connection","serverUrl","getServerURL","sessionId","changefilterMode","newmode","newmode1","arr","window","location","href","blobToBase64","blob","cb","reader","FileReader","onload","base64","result","readAsDataURL","addRow","data","jQuery","append","map","item","isDate","moment","Date","format","fromNow","Name","forEach","value","find","val","d","isNaN","valueOf","createPanel","title","tab","attr","topPanel","panel","createTable","tableId","selectAll","check","obj","nNodes","dataTable","fnGetNodes","each","is","this","addClass","removeClass","globalSelectAll","index","globalUnSelectAll","waitForDone","callback","results","id","getBoolean","metadata","checkRetrieveStatus","checkStatus","maketypeblock","table_data","name","XMLString","DataTable","rows","makeobjectToRetrive","returnData","members","push","getPackage","showLoading","resourceType","retrieve","unpackaged","types","version","complete","err","console","error","log","zipFile","hideLoading","alert","deploy","startChangeSetWorker","changeSetName","changeSetDescription","trim","modal","profiles","localStorage","setItem","JSON","stringify","open","protocol","host","createChangeSet","backdrop","keyboard","ezBSAlert","messageText","alertType","loginUser","bigTestBlob","Blob","fileObj","File","formData","FormData","fetch","method","body","then","response","json","catch","generateXml","updateData","setTimeout","html","workWithSOQL","workWithSessionStorageMetaData","userDate","convertDate","requestPromises","query","Promise","all","records","order","iDisplayLength","on","toggleClass","hasClass","resolve","reject","parse","sessionStorage","getItem","Array","isArray","hasRecord","manageableState","workWithMetaData","list","isAfter","theDate","today","year","getFullYear","month","getMonth","day","getDate","show","hide","add","describe","metadataObjects","childXmlNames","childXmlName","filter","toLowerCase","xmlName","sort","a","b"],"mappings":"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","file":"app.min.js","sourcesContent":["var apiVersion = '41.0';\nvar requestMetadata = [];\n\nvar requestSqlData = [\n    {\n        type:'ApexClass',\n        table: 'ApexClass_tb',\n        soqlFields: 'Id, Name, LastModifiedDate, LastModifiedBy.Name, CreatedBy.Name, CreatedDate',\n        soqlWhere: 'NamespacePrefix = null',\n        fields: [ 'Select','Id', 'Name', 'LastModifiedDate', 'LastModifiedBy',\n            'CreatedDate','CreatedBy' ],\n        apiFieldIndex: 2,\n    }, {\n        type:'ApexPage',\n        table: 'ApexPage_tb',\n        soqlFields: 'Id, Name, LastModifiedDate, LastModifiedBy.Name, CreatedBy.Name, CreatedDate',\n        soqlWhere: 'NamespacePrefix = null',\n        fields: [ 'Select','Id', 'Name', 'LastModifiedDate', 'LastModifiedBy',\n            'CreatedDate','CreatedBy' ],\n        apiFieldIndex: 2,\n    }, {\n        type:'ApexTrigger',\n        table: 'ApexTrigger_tb',\n        soqlFields: 'Id, Name, LastModifiedDate, LastModifiedBy.Name, CreatedBy.Name, CreatedDate',\n        soqlWhere: 'NamespacePrefix = null',\n        fields: [ 'Select','Id', 'Name', 'LastModifiedDate', 'LastModifiedBy',\n            'CreatedDate','CreatedBy' ],\n        apiFieldIndex: 2,\n    }, {\n        type:'ApexComponent',\n        table: 'ApexComponent_tb',\n        soqlFields: 'Id, Name, LastModifiedDate, LastModifiedBy.Name, CreatedBy.Name, CreatedDate',\n        soqlWhere: 'NamespacePrefix = null',\n        fields: [ 'Select','Id', 'Name', 'LastModifiedDate', 'LastModifiedBy',\n            'CreatedDate','CreatedBy' ],\n        apiFieldIndex: 2,\n    }, {\n        type:'StaticResource',\n        table: 'StaticResource_tb',\n        soqlFields: 'Id, Name, LastModifiedDate, LastModifiedBy.Name, CreatedBy.Name, CreatedDate',\n        soqlWhere: 'NamespacePrefix = null',\n        fields: [ 'Select','Id', 'Name', 'LastModifiedDate', 'LastModifiedBy',\n            'CreatedDate','CreatedBy' ],\n        apiFieldIndex: 2,\n    }, {\n        type:'WebLink',\n        table: 'WebLink_tb',\n        soqlFields: 'Id, Name, LastModifiedDate, LastModifiedBy.Name, CreatedBy.Name, CreatedDate, PageOrSobjectType',\n        soqlWhere: 'NamespacePrefix = null',\n        fields: ['Select','Id', 'Name', 'PageOrSobjectType', 'LastModifiedDate', 'LastModifiedBy',\n            'CreatedDate','CreatedBy'],\n        apiFieldIndex: [3,2],\n    }, {\n        type:'Dashboard',\n        table: 'Dashboard_tb',\n        soqlFields: 'Id, Title, LastModifiedDate, LastModifiedBy.Name, CreatedBy.Name, CreatedDate',\n        soqlWhere: 'NamespacePrefix = null',\n        fields: [ 'Select','Id', 'Title', 'LastModifiedDate', 'LastModifiedBy',\n            'CreatedDate','CreatedBy' ],\n        apiFieldIndex: 2,\n    }, {\n        type:'Report',\n        table: 'Report_tb',\n        soqlFields: 'Id, Name, DeveloperName,LastModifiedDate, LastModifiedBy.Name, CreatedBy.Name, CreatedDate',\n        soqlWhere: 'NamespacePrefix = null',\n        fields: [ 'Select','Id', 'Name','DeveloperName','LastModifiedDate', 'LastModifiedBy',\n            'CreatedDate','CreatedBy' ],\n        apiFieldIndex: 3,\n    }, {\n        type:'RecordType',\n        table: 'RecordType_tb',\n        soqlFields: 'Id, SobjectType, Name, LastModifiedDate, LastModifiedBy.Name, CreatedBy.Name, CreatedDate, DeveloperName',\n        soqlWhere: 'NamespacePrefix = null',\n        fields: [ 'Select','Id', 'SobjectType' ,'Name','DeveloperName','LastModifiedDate', 'LastModifiedBy',\n            'CreatedDate','CreatedBy' ],\n        apiFieldIndex: [2,4],\n    }, {\n        type:'ActionLinkGroupTemplate',\n        table: 'ActionLinkGroupTemplate_tb',\n        soqlFields: 'Id, MasterLabel, DeveloperName, LastModifiedDate, LastModifiedBy.Name, CreatedBy.Name, CreatedDate',\n        soqlWhere: 'Id != null',\n        fields: [ 'Select','Id', 'MasterLabel', 'DeveloperName', 'LastModifiedDate', 'LastModifiedBy',\n            'CreatedDate','CreatedBy' ],\n        apiFieldIndex: 3,\n    }];\n\nfunction __getCookie(c_name){\n    var i,x,y,ARRcookies=document.cookie.split(\";\");\n    for (i=0;i<ARRcookies.length;i++){\n        x=ARRcookies[i].substr(0,ARRcookies[i].indexOf(\"=\"));\n        y=ARRcookies[i].substr(ARRcookies[i].indexOf(\"=\")+1);\n        x=x.replace(/^\\s+|\\s+$/g,\"\");\n        if (x==c_name){\n            return unescape(y);\n        }\n    }\n}\n\nvar filterBy = 'LastModifiedDate';\nvar filterByMetadata = 'lastModifiedDate';\n\nvar sforce = new jsforce.Connection({\n    serverUrl : getServerURL(),\n    sessionId : __getCookie('sid')\n});\nfunction changefilterMode(newmode,newmode1) {\n    filterBy = newmode;\n    filterByMetadata = newmode1;\n}\n\nfunction getServerURL() {\n    var url = window.location.href;\n    var arr = url.split(\"/\");\n    return arr[0] + \"//\" + arr[2];\n}\n\nvar blobToBase64 = function(blob, cb) {\n    var reader = new FileReader();\n    reader.onload = function() {\n        var dataUrl = reader.result;\n        var base64 = dataUrl.split(',')[1];\n        cb(base64);\n    };\n    reader.readAsDataURL(blob);\n};\n\nfunction addRow(data, fields, table) {\n    jQuery(table).append('<tr/>');\n\n    var tdgroup = fields.map(function (item) {\n        if(item == 'Select') {\n            return jQuery('<td><span aria-hidden=\"true\" class=\"glyphicon glyphicon-unchecked\"></span></td>');\n        }\n        else if(data[item] == 'null' || data[item] == null) {\n            return jQuery('<td></td>');\n        }\n        else if(isDate(data[item])) {\n            return jQuery('<td>' + moment(new Date(data[item])).format('YYYY-MM-DD') + '<br/>(' +moment(new Date(data[item])).fromNow() +')</td>');\n        }\n        else if(typeof(data[item]) == 'string') {\n            return jQuery('<td>' + data[item] + '</td>');\n        }\n        else {\n            return jQuery('<td>' + data[item].Name + '</td>');\n        }\n        return jQuery('<td></td>');\n    })\n    tdgroup.forEach(function (value) {\n        jQuery(table).find('tr:last').append(value);\n    });\n}\nfunction isDate(val) {\n    var d = new Date(val);\n    return !isNaN(d.valueOf());\n}\n\nfunction createPanel(title,table,tab) {\n    jQuery(tab).append('<li><a href=\"#'+jQuery(table).attr('Id')+'-tab\" role=\"tab\" data-toggle=\"tab\">'+title+'</a></li>')\n    var topPanel = jQuery('<div class=\"tab-pane\" id=\"'+jQuery(table).attr('Id')+'-tab\"/>');\n    var panel = jQuery('<div class=\"panel panel-default\"/>');\n    jQuery(panel).append('<div class=\"panel-heading\"> '+title+'</div>');\n    jQuery(panel).append('<div class=\"panel-body\"></div>');\n    jQuery(panel).find('.panel-body').append(jQuery(table));\n    jQuery(topPanel).append(jQuery(panel));\n    return jQuery(topPanel);\n}\n\nfunction createTable(fields,tableId) {\n    var table = jQuery('<table id=\"'+tableId+'\" cellpadding=\"0\" border=\"0\" class=\"table table-striped table-bordered\" cellspacing=\"0\" width=\"100%\"></table>');\n    jQuery(table).append('<thead></thead>');\n    jQuery(table).append('<tbody></tbody>');\n    jQuery(table).find('thead').append('<tr/>');\n    for (i = 0; i < fields.length; i++) {\n        if(fields[i] == 'Select') {\n            jQuery(table).find('tr:last').append(\n                '<td><input type=\"checkbox\" onclick=\"selectAll(this,\\''+tableId+'\\',\\'\\')\"/></td>');\n        }\n        else {\n            jQuery(table).find('thead>tr').append('<th>' + fields[i] + '</th>');\n        }\n    }\n    return jQuery(table);\n}\n\nfunction selectAll(check,table,obj) {\n    var dataTbl;\n    if(table != '') {\n        dataTbl = jQuery('#'+table).dataTable();\n    }\n    else {\n        dataTbl = jQuery(obj).dataTable();\n    }\n    var nNodes = dataTbl.fnGetNodes();\n    jQuery(nNodes).each(function() {\n        if(check == '' || jQuery(check).is(':checked')) {\n            jQuery(this).addClass('selected');\n            jQuery(this).find('span.glyphicon').removeClass('glyphicon-unchecked').addClass('glyphicon-check');\n        }\n        else {\n            jQuery(this).removeClass('selected');\n            jQuery(this).find('span.glyphicon').removeClass('glyphicon-check').addClass('glyphicon-unchecked');\n        }\n    });\n}\n\nfunction globalSelectAll() {\n    requestMetadata.forEach(function(val, index) {\n        selectAll('','',jQuery('#'+val.table));\n    });\n    requestSqlData.forEach(function(val, index) {\n        selectAll('','',jQuery('#'+val.table));\n    });\n}\n\nfunction globalUnSelectAll() {\n    requestMetadata.forEach(function(val, index) {\n        selectAll(' ','',jQuery('#'+val.table));\n    });\n    requestSqlData.forEach(function(val, index) {\n        selectAll(' ','',jQuery('#'+val.table));\n    });\n}\n\nfunction waitForDone(callback) {\n    function getResult(id) {\n        sforce.metadata.checkRetrieveStatus(id, callback);\n    }\n    function check(results) {\n        var done = results[0].getBoolean(\"done\");\n        if (!done) {\n            sforce.metadata.checkStatus([results[0].id], check);\n        } else {\n            getResult(results[0].id);\n        }\n    }\n    return function (result) {\n        check([result]);\n    };\n}\nfunction maketypeblock(table_data,index,name) {\n    var XMLString = '';\n    if(jQuery(table_data).DataTable().rows('.selected').data().length > 0) {\n        XMLString += '\\n    <types>';\n        jQuery(jQuery(table_data).DataTable().rows('.selected').data()).each(function() {\n            var current = jQuery(this);\n            XMLString += '\\n        <members>';\n            if(typeof(index) == 'number') {\n                if(jQuery(this)[index] != '' && jQuery(this)[index] != 'null' && jQuery(this)[index] != null) {\n                    XMLString += jQuery(this)[index];\n                }\n            }\n            else {\n                for(i = 0 ; i < index.length ; i++) {\n                    if(jQuery(this)[index[i]] != '' && jQuery(this)[index[i]] != 'null' && jQuery(this)[index[i]] != null) {\n                        if(i != index.length - 1) {\n                            XMLString += jQuery(this)[index[i]] + '.';\n                        }\n                        else {\n                            XMLString += jQuery(this)[index[i]];\n                        }\n                    }\n                }\n            }\n            XMLString += '</members>';\n        });\n        XMLString += ' \\n       <name>'+name+'</name>';\n        XMLString += ' \\n   </types>';\n    }\n\n    return XMLString;\n}\nfunction makeobjectToRetrive(table_data, index, type) {\n    var returnData;\n    if(jQuery(table_data).DataTable().rows('.selected').data().length > 0) {\n        returnData = {name:type,members:[]};\n        jQuery(jQuery(table_data).DataTable().rows('.selected').data()).each(function() {\n            if(typeof(index) == 'number') {\n                if(jQuery(this)[index] != '' && jQuery(this)[index] != 'null' && jQuery(this)[index] != null) {\n                    returnData.members.push(jQuery(this)[index]);\n                }\n            }\n            else {\n                for(i = 0 ; i < index.length ; i++) {\n                    var XMLString = '';\n                    if(jQuery(this)[index[i]] != '' && jQuery(this)[index[i]] != 'null' && jQuery(this)[index[i]] != null) {\n                        if(i != index.length - 1) {\n                            XMLString += jQuery(this)[index[i]] + '.';\n                        }\n                        else {\n                            XMLString += jQuery(this)[index[i]];\n                        }\n                    }\n                    returnData.members.push(XMLString);\n                }\n            }\n        });\n    }\n    return returnData;\n}\nfunction getPackage() {\n    showLoading();\n    var resourceType = [];\n\n    requestMetadata.forEach(function(val, index) {\n        var result = makeobjectToRetrive(jQuery('#'+val.table),val.apiFieldIndex,val.type)\n        if(typeof(result) != 'undefined') {\n            resourceType.push(result);\n        }\n    });\n    requestSqlData.forEach(function(val, index) {\n        var result = makeobjectToRetrive(jQuery('#'+val.table),val.apiFieldIndex,val.type)\n        if(typeof(result) != 'undefined') {\n            resourceType.push(result);\n        }\n    });\n    if(resourceType.length > 0) {\n        sforce.metadata.retrieve({\n            unpackaged: {\n                types: resourceType,\n                version: apiVersion\n            }\n        }).complete(function (err, value) {\n            if (err) { console.error(err); }\n            console.log('ready for download..');\n            location.href=\"data:application/zip;base64,\" + value.zipFile;\n            hideLoading();\n        });\n    }\n    else {\n        alert('No Resource selected...');\n        hideLoading();\n    }\n}\nfunction deploy() {\n    alert('Coming Sooooon.')\n    /*\n    jQuery('#loginDialog').modal({\n        backdrop: 'static',\n        keyboard: true\n    });\n    */\n}\n\nfunction startChangeSetWorker() {\n\n    var changeSetName = jQuery('#changeSetName').val();\n    var changeSetDescription = jQuery('#changeSetDescription').val();\n\n    if(changeSetName.trim().length > 0) {\n        jQuery('#changeSetDialog').modal('hide');\n        var resourceType = [];\n        var profiles = { name: 'Profile', members: []};\n        requestMetadata.forEach(function(val, index) {\n            if(val.type != 'Profile') {\n                var result = makeobjectToRetrive(jQuery('#' + val.table), 1, val.type)\n                if (typeof(result) != 'undefined') {\n                    resourceType.push(result);\n                }\n            } else {\n                var result = makeobjectToRetrive(jQuery('#' + val.table), 2, val.type)\n                if (typeof(result) != 'undefined') {\n                    profiles = result;\n                }\n            }\n        });\n        requestSqlData.forEach(function(val, index) {\n            var result = makeobjectToRetrive(jQuery('#'+val.table),1,val.type)\n            if(typeof(result) != 'undefined') {\n                resourceType.push(result);\n            }\n        });\n        localStorage.setItem('changeSetName', changeSetName);\n        localStorage.setItem('changeSetDescription', changeSetDescription);\n        localStorage.setItem('changeSet', JSON.stringify(resourceType));\n        localStorage.setItem('profiles', JSON.stringify(profiles));\n        localStorage.setItem('processStatus', '1');\n        localStorage.setItem('DoneChangeSet', JSON.stringify([]));\n        window.open(window.location.protocol + '//' + window.location.host + '/changemgmt/createOutboundChangeSet.apexp?auto=1', \"_blank\");\n    } else {\n        jQuery('#changeSetName-form-group').addClass('has-error');\n    }\n}\n\nfunction createChangeSet() {\n    var resourceType = [];\n    requestMetadata.forEach(function(val, index) {\n        if(val.type != 'Profile') {\n            var result = makeobjectToRetrive(jQuery('#' + val.table), 1, val.type)\n            if (typeof(result) != 'undefined') {\n                resourceType.push(result);\n            }\n        }\n    });\n    requestSqlData.forEach(function(val, index) {\n        var result = makeobjectToRetrive(jQuery('#'+val.table),1,val.type)\n        if(typeof(result) != 'undefined') {\n            resourceType.push(result);\n        }\n    });\n    if(resourceType.length > 0) {\n        jQuery('#changeSetDialog').modal({\n            backdrop: 'static',\n            keyboard: true\n        });\n    } else {\n        ezBSAlert({\n            messageText: \"Please select resource before this action.\",\n            alertType: \"danger\"\n        })\n    }\n}\n\nfunction loginUser() {\n    var resourceType = [];\n\n    requestMetadata.forEach(function(val, index) {\n        var result = makeobjectToRetrive(jQuery('#'+val.table),val.apiFieldIndex,val.type)\n        if(typeof(result) != 'undefined') {\n            resourceType.push(result);\n        }\n    });\n    requestSqlData.forEach(function(val, index) {\n        var result = makeobjectToRetrive(jQuery('#'+val.table),val.apiFieldIndex,val.type)\n        if(typeof(result) != 'undefined') {\n            resourceType.push(result);\n        }\n    });\n\n    var requestObj = sforce.metadata.retrieve({\n        unpackaged: {\n            types: resourceType,\n            version: apiVersion\n        }\n    })\n\n    var fileName = 'package.zip';\n\n    requestObj.complete(function (err, value) {\n        if (err) { console.error(err); }\n        console.log('ready for download..');\n        var bigTestBlob = new Blob([value.zipFile], { type: \"application/zip\" });\n        blobToBase64(bigTestBlob, function(x) {\n            //console.log(value.zipFile);\n            //location.href=\"data:application/zip;base64,\" + value.zipFile;\n            var fileObj = new File([x], fileName, { type: 'application/zip'});\n            console.log('File object created:', fileObj);\n\n            var formData = new FormData();\n            formData.append('file', fileObj);\n\n            fetch('http://localhost:3000/upload', { // Your POST endpoint\n                method: 'POST',\n                body: formData\n            }).then(\n                function(response) { return response.json()} // if the response is a JSON object\n            ).then(\n                console.log  // Handle the success response object\n            ).catch(\n                console.error // Handle the error response object\n            );\n        });\n    });\n}\n\nfunction generateXml() {\n    var XMLString = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n    XMLString += '\\n<Package xmlns=\"http://soap.sforce.com/2006/04/metadata\">'\n\n    requestMetadata.forEach(function(val, index) {\n        XMLString += maketypeblock(jQuery('#'+val.table),val.apiFieldIndex,val.type);\n    });\n    requestSqlData.forEach(function(val, index) {\n        XMLString += maketypeblock(jQuery('#'+val.table),val.apiFieldIndex,val.type);\n    });\n\n    XMLString += '\\n    <version>'+apiVersion+'</version>\\n</Package>';\n    jQuery('#xmlData').val(XMLString);\n    jQuery('#xmlDialog').modal();\n}\n\njQuery(function() {\n    showLoading();\n\n    jQuery('#dateField').val(moment().add(-1, 'M').format('YYYY-MM-DD'));\n    console.log(\"Ready for API fun!\");\n    sforce.metadata.describe(apiVersion).then(function(metadata) {\n        metadata.metadataObjects.forEach(function (value) {\n            if(value.childXmlNames) {\n                value.childXmlNames.forEach(function (childXmlName) {\n                    var result = requestSqlData.filter(function (item) {\n                        return item.type.toLowerCase() === childXmlName.toLowerCase();\n                    });\n                    if(result.length == 0) {\n                        requestMetadata.push({\n                            type: childXmlName,\n                            table: childXmlName + '_tb',\n                            apiFieldIndex: 2,\n                        });\n                    }\n                });\n            }\n            var result = requestSqlData.filter(function (item) {\n                return item.type.toLowerCase() === value.xmlName.toLowerCase();\n            });\n            if(result.length == 0) {\n                requestMetadata.push({\n                    type: value.xmlName,\n                    table: value.xmlName + '_tb',\n                    apiFieldIndex: 2,\n                });\n            }\n        });\n        requestMetadata = requestMetadata.sort(function (a, b) {\n            if (a.type < b.type) {\n                return -1;\n            }\n            if (a.type > b.type) {\n                return 1;\n            }\n            return 0;\n        });\n        return workWithSOQL();\n    })\n        .then(function () {\n            return workWithMetaData();\n        }).then(function () {\n        jQuery('#myTab a[href=\"#'+requestSqlData[0].type+'_tb-tab\"]').tab('show');\n        hideLoading();\n    }).catch(function (err) {\n        console.error('Error',err);\n    });\n    /*\n    jQuery('#dateField').datepicker({\n        format: 'yyyy-mm-dd'\n    });*/\n});\n\nfunction updateData() {\n    showLoading();\n    setTimeout(function(){\n\n        jQuery('#container').html('');\n        jQuery('#container-tab2').html('');\n        jQuery('#container-tab').html('');\n        workWithSOQL().then(function () {\n            return workWithSessionStorageMetaData();\n        }).then(function () {\n            jQuery('#myTab a[href=\"#'+requestSqlData[0].type+'_tb-tab\"]').tab('show');\n            hideLoading();\n        }).catch(function (err) {\n            console.error('Error',err);\n        });\n    },200);\n}\n\nfunction workWithSOQL() {\n\n    var userDate = '2015-12-10';\n    if(jQuery('#dateField').val() != '') {\n        userDate = convertDate(jQuery('#dateField').val());\n    }\n\n    var requestPromises = requestSqlData.map(function (item) {\n        var query = 'Select '+item.soqlFields+' From '+item.type+' where ';\n        query += userDate != '' ? filterBy +' >= ' + userDate + ' AND ': '';\n        query += ' '+item.soqlWhere+' order by '+filterBy+' desc';\n        return sforce.query(query);\n    });\n\n    return Promise.all(requestPromises).then(function(results) {\n        results.forEach(function(val, index) {\n            var records = val.records;\n            if (records && records.length > 0) {\n\n                var panel, table;\n\n                table = createTable(requestSqlData[index].fields, requestSqlData[index].table);\n                panel = createPanel(requestSqlData[index].type, table, jQuery('#container-tab'));\n\n                for (var i = 0; i < records.length; i++) {\n                    addRow(records[i], requestSqlData[index].fields, jQuery(table).find('tbody'));\n                }\n                jQuery('#container').append(jQuery(panel));\n\n                jQuery('#' + requestSqlData[index].table).DataTable({\n                    order: [[requestSqlData[index].fields.indexOf('LastModifiedDate'), \"desc\"]],\n                    iDisplayLength: 100\n                });\n\n                jQuery('#' + requestSqlData[index].table + ' tbody').on('click', 'tr', function () {\n                    jQuery(this).toggleClass('selected');\n                    if (jQuery(this).hasClass('selected')) {\n                        jQuery(this).find('span.glyphicon').removeClass('glyphicon-unchecked').addClass('glyphicon-check');\n                    }\n                    else {\n                        jQuery(this).find('span.glyphicon').removeClass('glyphicon-check').addClass('glyphicon-unchecked');\n                    }\n                });\n            }\n        })\n        return Promise.resolve();\n    }).catch(function (err) {\n        return Promise.reject(err);\n    });\n}\n\nfunction workWithSessionStorageMetaData() {\n    var fields = [ 'Select','id', 'fullName','fileName','lastModifiedDate','lastModifiedByName',\n        'createdDate','createdByName' ];\n    var userDate = '2015-12-10';\n    if(jQuery('#dateField').val() != '') {\n        userDate = new Date(jQuery('#dateField').val());\n    }\n    requestMetadata.forEach(function (item) {\n        var val = JSON.parse(sessionStorage.getItem(item.type));\n        if(val && (!Array.isArray(val) || (Array.isArray(val) && val.length > 0))) {\n            var panel, table;\n\n            table = createTable(fields, item.table);\n\n\n            var hasRecord = false;\n            if(Array.isArray(val)) {\n                val.forEach(function (value) {\n                    if (value.manageableState != \"installed\" && (userDate == '' || userDate < new Date(value[filterByMetadata]))) {\n                        addRow(value, fields, jQuery(table).find('tbody'));\n                        hasRecord = true;\n                    }\n                });\n            } else {\n                if (val.manageableState != \"installed\" && (userDate == '' || userDate < new Date(val[filterByMetadata]))) {\n                    addRow(val, fields, jQuery(table).find('tbody'));\n                    hasRecord = true;\n                }\n            }\n\n            if(hasRecord) {\n                panel = createPanel(item.type, table, jQuery('#container-tab2'));\n                jQuery('#container').append(jQuery(panel));\n\n                jQuery('#' + item.table).DataTable({\n                    order: [[fields.indexOf('lastModifiedDate'), \"desc\"]],\n                    iDisplayLength: 100\n                });\n\n                jQuery('#' + item.table + ' tbody').on('click', 'tr', function () {\n                    jQuery(this).toggleClass('selected');\n                    if (jQuery(this).hasClass('selected')) {\n                        jQuery(this).find('span.glyphicon').removeClass('glyphicon-unchecked').addClass('glyphicon-check');\n                    }\n                    else {\n                        jQuery(this).find('span.glyphicon').removeClass('glyphicon-check').addClass('glyphicon-unchecked');\n                    }\n                });\n            }\n        }\n    });\n\n    return Promise.resolve();\n}\n\nfunction workWithMetaData() {\n    var fields = [ 'Select','id', 'fullName','fileName','lastModifiedDate','lastModifiedByName',\n        'createdDate','createdByName' ];\n    var userDate = '2015-12-10';\n    if(jQuery('#dateField').val() != '') {\n        userDate = new Date(jQuery('#dateField').val());\n    }\n    var requestPromises = requestMetadata.map(function (item) {\n        var types = [{type: item.type}];\n        return sforce.metadata.list(types, apiVersion);\n    });\n    return Promise.all(requestPromises).then(function(results) {\n        results.forEach(function(val, index) {\n            console.log(requestMetadata[index].type);\n            console.log(val);\n            if(val && (!Array.isArray(val) || (Array.isArray(val) && val.length > 0))) {\n                sessionStorage.setItem(requestMetadata[index].type, JSON.stringify(val));\n                var panel, table;\n\n                table = createTable(fields, requestMetadata[index].table);\n\n\n                var hasRecord = false;\n                if(Array.isArray(val)) {\n                    val.forEach(function (value) {\n                        if (value.manageableState != \"installed\" && moment(val[filterByMetadata]).isAfter(moment(userDate))) {\n                            addRow(value, fields, jQuery(table).find('tbody'));\n                            hasRecord = true;\n                        }\n                    });\n                } else {\n                    if (val.manageableState != \"installed\" && moment(val[filterByMetadata]).isAfter(moment(userDate))) {\n                        addRow(val, fields, jQuery(table).find('tbody'));\n                        hasRecord = true;\n                    }\n                }\n\n                if(hasRecord) {\n                    panel = createPanel(requestMetadata[index].type, table, jQuery('#container-tab2'));\n                    jQuery('#container').append(jQuery(panel));\n\n                    jQuery('#' + requestMetadata[index].table).DataTable({\n                        order: [[fields.indexOf('lastModifiedDate'), \"desc\"]],\n                        iDisplayLength: 100\n                    });\n\n                    jQuery('#' + requestMetadata[index].table + ' tbody').on('click', 'tr', function () {\n                        jQuery(this).toggleClass('selected');\n                        if (jQuery(this).hasClass('selected')) {\n                            jQuery(this).find('span.glyphicon').removeClass('glyphicon-unchecked').addClass('glyphicon-check');\n                        }\n                        else {\n                            jQuery(this).find('span.glyphicon').removeClass('glyphicon-check').addClass('glyphicon-unchecked');\n                        }\n                    });\n                }\n            }\n        });\n        return Promise.resolve();\n    }).catch(function (err) {\n        return Promise.reject(err);\n    });\n}\n\n\nfunction convertDate(theDate) {\n    if(typeof(theDate) != 'undefined') {\n        var newDate = new Date(theDate);\n        var today = newDate;\n        var year = today.getFullYear();\n        var month = today.getMonth() + 1;\n        var day = today.getDate();\n        if (month < 10)\n            month = '0' + month;\n        if (day < 10)\n            day = '0' + day;\n        return year + '-' + month + '-' + day + 'T00:00:00Z';\n    }\n    else {\n        return '';\n    }\n}\n\nfunction showLoading() {\n    if(!jQuery('#status').hasClass('show')) {\n        jQuery('#status').addClass('show');\n        jQuery('#status').show(); // will first fade out the sfdcConsoleloading animation\n        jQuery('#preloader').show(); // will fade out the white DIV that covers the website.\n    }\n}\nfunction hideLoading() {\n    jQuery('#status').removeClass('show');\n    jQuery('#status').hide(); // will first fade out the sfdcConsoleloading animation\n    jQuery('#preloader').hide(); // will fade out the white DIV that covers the website.\n}"]}