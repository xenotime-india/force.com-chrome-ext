{"version":3,"sources":["app.js"],"names":["apiVersion","requestMetadata","requestSqlData","type","table","soqlFields","soqlWhere","fields","apiFieldIndex","__getCookie","c_name","i","x","y","ARRcookies","document","cookie","split","length","substr","indexOf","replace","unescape","filterBy","filterByMetadata","sforce","jsforce","Connection","serverUrl","getServerURL","sessionId","changefilterMode","newmode","newmode1","arr","window","location","href","blobToBase64","blob","cb","reader","FileReader","onload","base64","result","readAsDataURL","addRow","data","jQuery","append","map","item","isDate","showDate","moment","Date","fromNow","Name","forEach","value","find","val","d","isNaN","valueOf","theDate","today","year","getFullYear","month","getMonth","day","getDate","createPanel","title","tab","attr","topPanel","panel","createTable","tableId","selectAll","check","obj","nNodes","dataTable","fnGetNodes","each","is","this","addClass","removeClass","globalSelectAll","index","globalUnSelectAll","waitForDone","callback","results","id","getBoolean","metadata","checkRetrieveStatus","checkStatus","maketypeblock","table_data","name","XMLString","DataTable","rows","makeobjectToRetrive","returnData","members","push","getPackage","showLoading","resourceType","retrieve","unpackaged","types","version","complete","err","console","error","log","zipFile","hideLoading","alert","deploy","startChangeSetWorker","changeSetName","changeSetDescription","trim","modal","profiles","localStorage","setItem","JSON","stringify","open","protocol","host","createChangeSet","backdrop","keyboard","ezBSAlert","messageText","alertType","loginUser","bigTestBlob","Blob","fileObj","File","formData","FormData","fetch","method","body","then","response","json","catch","generateXml","updateData","setTimeout","html","workWithSOQL","workWithSessionStorageMetaData","userDate","convertDate","requestPromises","query","Promise","all","records","order","iDisplayLength","on","toggleClass","hasClass","resolve","reject","parse","sessionStorage","getItem","Array","isArray","hasRecord","manageableState","workWithMetaData","list","show","hide","add","describe","metadataObjects","childXmlNames","childXmlName","filter","toLowerCase","xmlName","sort","a","b","datepicker","format"],"mappings":"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","file":"app.min.js","sourcesContent":["var apiVersion = '41.0';\nvar requestMetadata = [];\n\nvar requestSqlData = [\n    {\n        type:'ApexClass',\n        table: 'ApexClass_tb',\n        soqlFields: 'Id, Name, LastModifiedDate, LastModifiedBy.Name, CreatedBy.Name, CreatedDate',\n        soqlWhere: 'NamespacePrefix = null',\n        fields: [ 'Select','Id', 'Name', 'LastModifiedDate', 'LastModifiedBy',\n            'CreatedDate','CreatedBy' ],\n        apiFieldIndex: 2,\n    }, {\n        type:'ApexPage',\n        table: 'ApexPage_tb',\n        soqlFields: 'Id, Name, LastModifiedDate, LastModifiedBy.Name, CreatedBy.Name, CreatedDate',\n        soqlWhere: 'NamespacePrefix = null',\n        fields: [ 'Select','Id', 'Name', 'LastModifiedDate', 'LastModifiedBy',\n            'CreatedDate','CreatedBy' ],\n        apiFieldIndex: 2,\n    }, {\n        type:'ApexTrigger',\n        table: 'ApexTrigger_tb',\n        soqlFields: 'Id, Name, LastModifiedDate, LastModifiedBy.Name, CreatedBy.Name, CreatedDate',\n        soqlWhere: 'NamespacePrefix = null',\n        fields: [ 'Select','Id', 'Name', 'LastModifiedDate', 'LastModifiedBy',\n            'CreatedDate','CreatedBy' ],\n        apiFieldIndex: 2,\n    }, {\n        type:'ApexComponent',\n        table: 'ApexComponent_tb',\n        soqlFields: 'Id, Name, LastModifiedDate, LastModifiedBy.Name, CreatedBy.Name, CreatedDate',\n        soqlWhere: 'NamespacePrefix = null',\n        fields: [ 'Select','Id', 'Name', 'LastModifiedDate', 'LastModifiedBy',\n            'CreatedDate','CreatedBy' ],\n        apiFieldIndex: 2,\n    }, {\n        type:'StaticResource',\n        table: 'StaticResource_tb',\n        soqlFields: 'Id, Name, LastModifiedDate, LastModifiedBy.Name, CreatedBy.Name, CreatedDate',\n        soqlWhere: 'NamespacePrefix = null',\n        fields: [ 'Select','Id', 'Name', 'LastModifiedDate', 'LastModifiedBy',\n            'CreatedDate','CreatedBy' ],\n        apiFieldIndex: 2,\n    }, {\n        type:'WebLink',\n        table: 'WebLink_tb',\n        soqlFields: 'Id, Name, LastModifiedDate, LastModifiedBy.Name, CreatedBy.Name, CreatedDate, PageOrSobjectType',\n        soqlWhere: 'NamespacePrefix = null',\n        fields: ['Select','Id', 'Name', 'PageOrSobjectType', 'LastModifiedDate', 'LastModifiedBy',\n            'CreatedDate','CreatedBy'],\n        apiFieldIndex: [3,2],\n    }, {\n        type:'Dashboard',\n        table: 'Dashboard_tb',\n        soqlFields: 'Id, Title, LastModifiedDate, LastModifiedBy.Name, CreatedBy.Name, CreatedDate',\n        soqlWhere: 'NamespacePrefix = null',\n        fields: [ 'Select','Id', 'Title', 'LastModifiedDate', 'LastModifiedBy',\n            'CreatedDate','CreatedBy' ],\n        apiFieldIndex: 2,\n    }, {\n        type:'Report',\n        table: 'Report_tb',\n        soqlFields: 'Id, Name, DeveloperName,LastModifiedDate, LastModifiedBy.Name, CreatedBy.Name, CreatedDate',\n        soqlWhere: 'NamespacePrefix = null',\n        fields: [ 'Select','Id', 'Name','DeveloperName','LastModifiedDate', 'LastModifiedBy',\n            'CreatedDate','CreatedBy' ],\n        apiFieldIndex: 3,\n    }, {\n        type:'RecordType',\n        table: 'RecordType_tb',\n        soqlFields: 'Id, SobjectType, Name, LastModifiedDate, LastModifiedBy.Name, CreatedBy.Name, CreatedDate, DeveloperName',\n        soqlWhere: 'NamespacePrefix = null',\n        fields: [ 'Select','Id', 'SobjectType' ,'Name','DeveloperName','LastModifiedDate', 'LastModifiedBy',\n            'CreatedDate','CreatedBy' ],\n        apiFieldIndex: [2,4],\n    }, {\n        type:'ActionLinkGroupTemplate',\n        table: 'ActionLinkGroupTemplate_tb',\n        soqlFields: 'Id, MasterLabel, DeveloperName, LastModifiedDate, LastModifiedBy.Name, CreatedBy.Name, CreatedDate',\n        soqlWhere: 'Id != null',\n        fields: [ 'Select','Id', 'MasterLabel', 'DeveloperName', 'LastModifiedDate', 'LastModifiedBy',\n            'CreatedDate','CreatedBy' ],\n        apiFieldIndex: 3,\n    }];\n\nfunction __getCookie(c_name){\n    var i,x,y,ARRcookies=document.cookie.split(\";\");\n    for (i=0;i<ARRcookies.length;i++){\n        x=ARRcookies[i].substr(0,ARRcookies[i].indexOf(\"=\"));\n        y=ARRcookies[i].substr(ARRcookies[i].indexOf(\"=\")+1);\n        x=x.replace(/^\\s+|\\s+$/g,\"\");\n        if (x==c_name){\n            return unescape(y);\n        }\n    }\n}\n\nvar filterBy = 'LastModifiedDate';\nvar filterByMetadata = 'lastModifiedDate';\n\nvar sforce = new jsforce.Connection({\n    serverUrl : getServerURL(),\n    sessionId : __getCookie('sid')\n});\nfunction changefilterMode(newmode,newmode1) {\n    filterBy = newmode;\n    filterByMetadata = newmode1;\n}\n\nfunction getServerURL() {\n    var url = window.location.href;\n    var arr = url.split(\"/\");\n    return arr[0] + \"//\" + arr[2];\n}\n\nvar blobToBase64 = function(blob, cb) {\n    var reader = new FileReader();\n    reader.onload = function() {\n        var dataUrl = reader.result;\n        var base64 = dataUrl.split(',')[1];\n        cb(base64);\n    };\n    reader.readAsDataURL(blob);\n};\n\nfunction addRow(data, fields, table) {\n    jQuery(table).append('<tr/>');\n\n    var tdgroup = fields.map(function (item) {\n        if(item == 'Select') {\n            return jQuery('<td><span aria-hidden=\"true\" class=\"glyphicon glyphicon-unchecked\"></span></td>');\n        }\n        else if(data[item] == 'null' || data[item] == null) {\n            return jQuery('<td></td>');\n        }\n        else if(isDate(data[item])) {\n            return jQuery('<td>' + showDate(data[item]) + '<br/>(' +moment(new Date(data[item])).fromNow() +')</td>');\n        }\n        else if(typeof(data[item]) == 'string') {\n            return jQuery('<td>' + data[item] + '</td>');\n        }\n        else {\n            return jQuery('<td>' + data[item].Name + '</td>');\n        }\n        return jQuery('<td></td>');\n    })\n    tdgroup.forEach(function (value) {\n        jQuery(table).find('tr:last').append(value);\n    });\n}\nfunction isDate(val) {\n    var d = new Date(val);\n    return !isNaN(d.valueOf());\n}\n\nfunction showDate(theDate) {\n    var newDate = new Date(theDate);\n    var today = newDate;\n    var year = today.getFullYear();\n    var month = today.getMonth() + 1;\n    var day = today.getDate();\n    if (month < 10)\n        month = '0' + month;\n    if (day < 10)\n        day = '0' + day;\n    return year + '-' + month + '-' + day;\n}\n\nfunction createPanel(title,table,tab) {\n    jQuery(tab).append('<li><a href=\"#'+jQuery(table).attr('Id')+'-tab\" role=\"tab\" data-toggle=\"tab\">'+title+'</a></li>')\n    var topPanel = jQuery('<div class=\"tab-pane\" id=\"'+jQuery(table).attr('Id')+'-tab\"/>');\n    var panel = jQuery('<div class=\"panel panel-default\"/>');\n    jQuery(panel).append('<div class=\"panel-heading\"> '+title+'</div>');\n    jQuery(panel).append('<div class=\"panel-body\"></div>');\n    jQuery(panel).find('.panel-body').append(jQuery(table));\n    jQuery(topPanel).append(jQuery(panel));\n    return jQuery(topPanel);\n}\n\nfunction createTable(fields,tableId) {\n    var table = jQuery('<table id=\"'+tableId+'\" cellpadding=\"0\" border=\"0\" class=\"table table-striped table-bordered\" cellspacing=\"0\" width=\"100%\"></table>');\n    jQuery(table).append('<thead></thead>');\n    jQuery(table).append('<tbody></tbody>');\n    jQuery(table).find('thead').append('<tr/>');\n    for (i = 0; i < fields.length; i++) {\n        if(fields[i] == 'Select') {\n            jQuery(table).find('tr:last').append(\n                '<td><input type=\"checkbox\" onclick=\"selectAll(this,\\''+tableId+'\\',\\'\\')\"/></td>');\n        }\n        else {\n            jQuery(table).find('thead>tr').append('<th>' + fields[i] + '</th>');\n        }\n    }\n    return jQuery(table);\n}\n\nfunction selectAll(check,table,obj) {\n    var dataTbl;\n    if(table != '') {\n        dataTbl = jQuery('#'+table).dataTable();\n    }\n    else {\n        dataTbl = jQuery(obj).dataTable();\n    }\n    var nNodes = dataTbl.fnGetNodes();\n    jQuery(nNodes).each(function() {\n        if(check == '' || jQuery(check).is(':checked')) {\n            jQuery(this).addClass('selected');\n            jQuery(this).find('span.glyphicon').removeClass('glyphicon-unchecked').addClass('glyphicon-check');\n        }\n        else {\n            jQuery(this).removeClass('selected');\n            jQuery(this).find('span.glyphicon').removeClass('glyphicon-check').addClass('glyphicon-unchecked');\n        }\n    });\n}\n\nfunction globalSelectAll() {\n    requestMetadata.forEach(function(val, index) {\n        selectAll('','',jQuery('#'+val.table));\n    });\n    requestSqlData.forEach(function(val, index) {\n        selectAll('','',jQuery('#'+val.table));\n    });\n}\n\nfunction globalUnSelectAll() {\n    requestMetadata.forEach(function(val, index) {\n        selectAll(' ','',jQuery('#'+val.table));\n    });\n    requestSqlData.forEach(function(val, index) {\n        selectAll(' ','',jQuery('#'+val.table));\n    });\n}\n\nfunction waitForDone(callback) {\n    function getResult(id) {\n        sforce.metadata.checkRetrieveStatus(id, callback);\n    }\n    function check(results) {\n        var done = results[0].getBoolean(\"done\");\n        if (!done) {\n            sforce.metadata.checkStatus([results[0].id], check);\n        } else {\n            getResult(results[0].id);\n        }\n    }\n    return function (result) {\n        check([result]);\n    };\n}\nfunction maketypeblock(table_data,index,name) {\n    var XMLString = '';\n    if(jQuery(table_data).DataTable().rows('.selected').data().length > 0) {\n        XMLString += '\\n    <types>';\n        jQuery(jQuery(table_data).DataTable().rows('.selected').data()).each(function() {\n            var current = jQuery(this);\n            XMLString += '\\n        <members>';\n            if(typeof(index) == 'number') {\n                if(jQuery(this)[index] != '' && jQuery(this)[index] != 'null' && jQuery(this)[index] != null) {\n                    XMLString += jQuery(this)[index];\n                }\n            }\n            else {\n                for(i = 0 ; i < index.length ; i++) {\n                    if(jQuery(this)[index[i]] != '' && jQuery(this)[index[i]] != 'null' && jQuery(this)[index[i]] != null) {\n                        if(i != index.length - 1) {\n                            XMLString += jQuery(this)[index[i]] + '.';\n                        }\n                        else {\n                            XMLString += jQuery(this)[index[i]];\n                        }\n                    }\n                }\n            }\n            XMLString += '</members>';\n        });\n        XMLString += ' \\n       <name>'+name+'</name>';\n        XMLString += ' \\n   </types>';\n    }\n\n    return XMLString;\n}\nfunction makeobjectToRetrive(table_data, index, type) {\n    var returnData;\n    if(jQuery(table_data).DataTable().rows('.selected').data().length > 0) {\n        returnData = {name:type,members:[]};\n        jQuery(jQuery(table_data).DataTable().rows('.selected').data()).each(function() {\n            if(typeof(index) == 'number') {\n                if(jQuery(this)[index] != '' && jQuery(this)[index] != 'null' && jQuery(this)[index] != null) {\n                    returnData.members.push(jQuery(this)[index]);\n                }\n            }\n            else {\n                for(i = 0 ; i < index.length ; i++) {\n                    var XMLString = '';\n                    if(jQuery(this)[index[i]] != '' && jQuery(this)[index[i]] != 'null' && jQuery(this)[index[i]] != null) {\n                        if(i != index.length - 1) {\n                            XMLString += jQuery(this)[index[i]] + '.';\n                        }\n                        else {\n                            XMLString += jQuery(this)[index[i]];\n                        }\n                    }\n                    returnData.members.push(XMLString);\n                }\n            }\n        });\n    }\n    return returnData;\n}\nfunction getPackage() {\n    showLoading();\n    var resourceType = [];\n\n    requestMetadata.forEach(function(val, index) {\n        var result = makeobjectToRetrive(jQuery('#'+val.table),val.apiFieldIndex,val.type)\n        if(typeof(result) != 'undefined') {\n            resourceType.push(result);\n        }\n    });\n    requestSqlData.forEach(function(val, index) {\n        var result = makeobjectToRetrive(jQuery('#'+val.table),val.apiFieldIndex,val.type)\n        if(typeof(result) != 'undefined') {\n            resourceType.push(result);\n        }\n    });\n    if(resourceType.length > 0) {\n        sforce.metadata.retrieve({\n            unpackaged: {\n                types: resourceType,\n                version: apiVersion\n            }\n        }).complete(function (err, value) {\n            if (err) { console.error(err); }\n            console.log('ready for download..');\n            location.href=\"data:application/zip;base64,\" + value.zipFile;\n            hideLoading();\n        });\n    }\n    else {\n        alert('No Resource selected...');\n        hideLoading();\n    }\n}\nfunction deploy() {\n    alert('Coming Sooooon.')\n    /*\n    jQuery('#loginDialog').modal({\n        backdrop: 'static',\n        keyboard: true\n    });\n    */\n}\n\nfunction startChangeSetWorker() {\n\n    var changeSetName = jQuery('#changeSetName').val();\n    var changeSetDescription = jQuery('#changeSetDescription').val();\n\n    if(changeSetName.trim().length > 0) {\n        jQuery('#changeSetDialog').modal('hide');\n        var resourceType = [];\n        var profiles = { name: 'Profile', members: []};\n        requestMetadata.forEach(function(val, index) {\n            if(val.type != 'Profile') {\n                var result = makeobjectToRetrive(jQuery('#' + val.table), 1, val.type)\n                if (typeof(result) != 'undefined') {\n                    resourceType.push(result);\n                }\n            } else {\n                var result = makeobjectToRetrive(jQuery('#' + val.table), 2, val.type)\n                if (typeof(result) != 'undefined') {\n                    profiles = result;\n                }\n            }\n        });\n        requestSqlData.forEach(function(val, index) {\n            var result = makeobjectToRetrive(jQuery('#'+val.table),1,val.type)\n            if(typeof(result) != 'undefined') {\n                resourceType.push(result);\n            }\n        });\n        localStorage.setItem('changeSetName', changeSetName);\n        localStorage.setItem('changeSetDescription', changeSetDescription);\n        localStorage.setItem('changeSet', JSON.stringify(resourceType));\n        localStorage.setItem('profiles', JSON.stringify(profiles));\n        localStorage.setItem('processStatus', '1');\n        localStorage.setItem('DoneChangeSet', JSON.stringify([]));\n        window.open(window.location.protocol + '//' + window.location.host + '/changemgmt/createOutboundChangeSet.apexp?auto=1', \"_blank\");\n    } else {\n        jQuery('#changeSetName-form-group').addClass('has-error');\n    }\n}\n\nfunction createChangeSet() {\n    var resourceType = [];\n    requestMetadata.forEach(function(val, index) {\n        if(val.type != 'Profile') {\n            var result = makeobjectToRetrive(jQuery('#' + val.table), 1, val.type)\n            if (typeof(result) != 'undefined') {\n                resourceType.push(result);\n            }\n        }\n    });\n    requestSqlData.forEach(function(val, index) {\n        var result = makeobjectToRetrive(jQuery('#'+val.table),1,val.type)\n        if(typeof(result) != 'undefined') {\n            resourceType.push(result);\n        }\n    });\n    if(resourceType.length > 0) {\n        jQuery('#changeSetDialog').modal({\n            backdrop: 'static',\n            keyboard: true\n        });\n    } else {\n        ezBSAlert({\n            messageText: \"Please select resource before this action.\",\n            alertType: \"danger\"\n        })\n    }\n}\n\nfunction loginUser() {\n    var resourceType = [];\n\n    requestMetadata.forEach(function(val, index) {\n        var result = makeobjectToRetrive(jQuery('#'+val.table),val.apiFieldIndex,val.type)\n        if(typeof(result) != 'undefined') {\n            resourceType.push(result);\n        }\n    });\n    requestSqlData.forEach(function(val, index) {\n        var result = makeobjectToRetrive(jQuery('#'+val.table),val.apiFieldIndex,val.type)\n        if(typeof(result) != 'undefined') {\n            resourceType.push(result);\n        }\n    });\n\n    var requestObj = sforce.metadata.retrieve({\n        unpackaged: {\n            types: resourceType,\n            version: apiVersion\n        }\n    })\n\n    var fileName = 'package.zip';\n\n    requestObj.complete(function (err, value) {\n        if (err) { console.error(err); }\n        console.log('ready for download..');\n        var bigTestBlob = new Blob([value.zipFile], { type: \"application/zip\" });\n        blobToBase64(bigTestBlob, function(x) {\n            //console.log(value.zipFile);\n            //location.href=\"data:application/zip;base64,\" + value.zipFile;\n            var fileObj = new File([x], fileName, { type: 'application/zip'});\n            console.log('File object created:', fileObj);\n\n            var formData = new FormData();\n            formData.append('file', fileObj);\n\n            fetch('http://localhost:3000/upload', { // Your POST endpoint\n                method: 'POST',\n                body: formData\n            }).then(\n                function(response) { return response.json()} // if the response is a JSON object\n            ).then(\n                console.log  // Handle the success response object\n            ).catch(\n                console.error // Handle the error response object\n            );\n        });\n    });\n}\n\nfunction generateXml() {\n    var XMLString = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n    XMLString += '\\n<Package xmlns=\"http://soap.sforce.com/2006/04/metadata\">'\n\n    requestMetadata.forEach(function(val, index) {\n        XMLString += maketypeblock(jQuery('#'+val.table),val.apiFieldIndex,val.type);\n    });\n    requestSqlData.forEach(function(val, index) {\n        XMLString += maketypeblock(jQuery('#'+val.table),val.apiFieldIndex,val.type);\n    });\n\n    XMLString += '\\n    <version>'+apiVersion+'</version>\\n</Package>';\n    jQuery('#xmlData').val(XMLString);\n    jQuery('#xmlDialog').modal();\n}\n\njQuery(function() {\n    showLoading();\n\n    jQuery('#dateField').val(showDate(new Date().add(-1).month()));\n    console.log(\"Ready for API fun!\");\n    sforce.metadata.describe(apiVersion).then(function(metadata) {\n        metadata.metadataObjects.forEach(function (value) {\n            if(value.childXmlNames) {\n                value.childXmlNames.forEach(function (childXmlName) {\n                    var result = requestSqlData.filter(function (item) {\n                        return item.type.toLowerCase() === childXmlName.toLowerCase();\n                    });\n                    if(result.length == 0) {\n                        requestMetadata.push({\n                            type: childXmlName,\n                            table: childXmlName + '_tb',\n                            apiFieldIndex: 2,\n                        });\n                    }\n                });\n            }\n            var result = requestSqlData.filter(function (item) {\n                return item.type.toLowerCase() === value.xmlName.toLowerCase();\n            });\n            if(result.length == 0) {\n                requestMetadata.push({\n                    type: value.xmlName,\n                    table: value.xmlName + '_tb',\n                    apiFieldIndex: 2,\n                });\n            }\n        });\n        requestMetadata = requestMetadata.sort(function (a, b) {\n            if (a.type < b.type) {\n                return -1;\n            }\n            if (a.type > b.type) {\n                return 1;\n            }\n            return 0;\n        });\n        return workWithSOQL();\n    })\n        .then(function () {\n            return workWithMetaData();\n        }).then(function () {\n        jQuery('#myTab a[href=\"#'+requestSqlData[0].type+'_tb-tab\"]').tab('show');\n        hideLoading();\n    }).catch(function (err) {\n        console.error('Error',err);\n    });\n    jQuery('#dateField').datepicker({\n        format: 'yyyy-mm-dd'\n    });\n});\n\nfunction updateData() {\n    showLoading();\n    setTimeout(function(){\n\n        jQuery('#container').html('');\n        jQuery('#container-tab2').html('');\n        jQuery('#container-tab').html('');\n        workWithSOQL().then(function () {\n            return workWithSessionStorageMetaData();\n        }).then(function () {\n            jQuery('#myTab a[href=\"#'+requestSqlData[0].type+'_tb-tab\"]').tab('show');\n            hideLoading();\n        }).catch(function (err) {\n            console.error('Error',err);\n        });\n    },200);\n}\n\nfunction workWithSOQL() {\n\n    var userDate = '2015-12-10';\n    if(jQuery('#dateField').val() != '') {\n        userDate = convertDate(jQuery('#dateField').val());\n    }\n\n    var requestPromises = requestSqlData.map(function (item) {\n        var query = 'Select '+item.soqlFields+' From '+item.type+' where ';\n        query += userDate != '' ? filterBy +' >= ' + userDate + ' AND ': '';\n        query += ' '+item.soqlWhere+' order by '+filterBy+' desc';\n        return sforce.query(query);\n    });\n\n    return Promise.all(requestPromises).then(function(results) {\n        results.forEach(function(val, index) {\n            var records = val.records;\n            if (records && records.length > 0) {\n\n                var panel, table;\n\n                table = createTable(requestSqlData[index].fields, requestSqlData[index].table);\n                panel = createPanel(requestSqlData[index].type, table, jQuery('#container-tab'));\n\n                for (var i = 0; i < records.length; i++) {\n                    addRow(records[i], requestSqlData[index].fields, jQuery(table).find('tbody'));\n                }\n                jQuery('#container').append(jQuery(panel));\n\n                jQuery('#' + requestSqlData[index].table).DataTable({\n                    order: [[requestSqlData[index].fields.indexOf('LastModifiedDate'), \"desc\"]],\n                    iDisplayLength: 100\n                });\n\n                jQuery('#' + requestSqlData[index].table + ' tbody').on('click', 'tr', function () {\n                    jQuery(this).toggleClass('selected');\n                    if (jQuery(this).hasClass('selected')) {\n                        jQuery(this).find('span.glyphicon').removeClass('glyphicon-unchecked').addClass('glyphicon-check');\n                    }\n                    else {\n                        jQuery(this).find('span.glyphicon').removeClass('glyphicon-check').addClass('glyphicon-unchecked');\n                    }\n                });\n            }\n        })\n        return Promise.resolve();\n    }).catch(function (err) {\n        return Promise.reject(err);\n    });\n}\n\nfunction workWithSessionStorageMetaData() {\n    var fields = [ 'Select','id', 'fullName','fileName','lastModifiedDate','lastModifiedByName',\n        'createdDate','createdByName' ];\n    var userDate = '2015-12-10';\n    if(jQuery('#dateField').val() != '') {\n        userDate = new Date(jQuery('#dateField').val());\n    }\n    requestMetadata.forEach(function (item) {\n        var val = JSON.parse(sessionStorage.getItem(item.type));\n        if(val && (!Array.isArray(val) || (Array.isArray(val) && val.length > 0))) {\n            var panel, table;\n\n            table = createTable(fields, item.table);\n\n\n            var hasRecord = false;\n            if(Array.isArray(val)) {\n                val.forEach(function (value) {\n                    if (value.manageableState != \"installed\" && (userDate == '' || userDate < new Date(value[filterByMetadata]))) {\n                        addRow(value, fields, jQuery(table).find('tbody'));\n                        hasRecord = true;\n                    }\n                });\n            } else {\n                if (val.manageableState != \"installed\" && (userDate == '' || userDate < new Date(val[filterByMetadata]))) {\n                    addRow(val, fields, jQuery(table).find('tbody'));\n                    hasRecord = true;\n                }\n            }\n\n            if(hasRecord) {\n                panel = createPanel(item.type, table, jQuery('#container-tab2'));\n                jQuery('#container').append(jQuery(panel));\n\n                jQuery('#' + item.table).DataTable({\n                    order: [[fields.indexOf('lastModifiedDate'), \"desc\"]],\n                    iDisplayLength: 100\n                });\n\n                jQuery('#' + item.table + ' tbody').on('click', 'tr', function () {\n                    jQuery(this).toggleClass('selected');\n                    if (jQuery(this).hasClass('selected')) {\n                        jQuery(this).find('span.glyphicon').removeClass('glyphicon-unchecked').addClass('glyphicon-check');\n                    }\n                    else {\n                        jQuery(this).find('span.glyphicon').removeClass('glyphicon-check').addClass('glyphicon-unchecked');\n                    }\n                });\n            }\n        }\n    });\n\n    return Promise.resolve();\n}\n\nfunction workWithMetaData() {\n    var fields = [ 'Select','id', 'fullName','fileName','lastModifiedDate','lastModifiedByName',\n        'createdDate','createdByName' ];\n    var userDate = '2015-12-10';\n    if(jQuery('#dateField').val() != '') {\n        userDate = new Date(jQuery('#dateField').val());\n    }\n    var requestPromises = requestMetadata.map(function (item) {\n        var types = [{type: item.type}];\n        return sforce.metadata.list(types, apiVersion);\n    });\n    return Promise.all(requestPromises).then(function(results) {\n        results.forEach(function(val, index) {\n            console.log(requestMetadata[index].type);\n            console.log(val);\n            if(val && (!Array.isArray(val) || (Array.isArray(val) && val.length > 0))) {\n                sessionStorage.setItem(requestMetadata[index].type, JSON.stringify(val));\n                var panel, table;\n\n                table = createTable(fields, requestMetadata[index].table);\n\n\n                var hasRecord = false;\n                if(Array.isArray(val)) {\n                    val.forEach(function (value) {\n                        if (value.manageableState != \"installed\" && (userDate == '' || userDate < new Date(value[filterByMetadata]))) {\n                            addRow(value, fields, jQuery(table).find('tbody'));\n                            hasRecord = true;\n                        }\n                    });\n                } else {\n                    if (val.manageableState != \"installed\" && (userDate == '' || userDate < new Date(val[filterByMetadata]))) {\n                        addRow(val, fields, jQuery(table).find('tbody'));\n                        hasRecord = true;\n                    }\n                }\n\n                if(hasRecord) {\n                    panel = createPanel(requestMetadata[index].type, table, jQuery('#container-tab2'));\n                    jQuery('#container').append(jQuery(panel));\n\n                    jQuery('#' + requestMetadata[index].table).DataTable({\n                        order: [[fields.indexOf('lastModifiedDate'), \"desc\"]],\n                        iDisplayLength: 100\n                    });\n\n                    jQuery('#' + requestMetadata[index].table + ' tbody').on('click', 'tr', function () {\n                        jQuery(this).toggleClass('selected');\n                        if (jQuery(this).hasClass('selected')) {\n                            jQuery(this).find('span.glyphicon').removeClass('glyphicon-unchecked').addClass('glyphicon-check');\n                        }\n                        else {\n                            jQuery(this).find('span.glyphicon').removeClass('glyphicon-check').addClass('glyphicon-unchecked');\n                        }\n                    });\n                }\n            }\n        });\n        return Promise.resolve();\n    }).catch(function (err) {\n        return Promise.reject(err);\n    });\n}\n\n\nfunction convertDate(theDate) {\n    if(typeof(theDate) != 'undefined') {\n        var newDate = new Date(theDate);\n        var today = newDate;\n        var year = today.getFullYear();\n        var month = today.getMonth() + 1;\n        var day = today.getDate();\n        if (month < 10)\n            month = '0' + month;\n        if (day < 10)\n            day = '0' + day;\n        return year + '-' + month + '-' + day + 'T00:00:00Z';\n    }\n    else {\n        return '';\n    }\n}\n\nfunction showLoading() {\n    if(!jQuery('#status').hasClass('show')) {\n        jQuery('#status').addClass('show');\n        jQuery('#status').show(); // will first fade out the sfdcConsoleloading animation\n        jQuery('#preloader').show(); // will fade out the white DIV that covers the website.\n    }\n}\nfunction hideLoading() {\n    jQuery('#status').removeClass('show');\n    jQuery('#status').hide(); // will first fade out the sfdcConsoleloading animation\n    jQuery('#preloader').hide(); // will fade out the white DIV that covers the website.\n}"]}