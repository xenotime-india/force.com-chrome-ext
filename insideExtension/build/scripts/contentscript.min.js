"use strict";console.log("'Allo 'Allo! Content script","Xenotime");var availableResource=["QuickActionDefinition","ActionLinkGroupTemplate","ApexClass","CustomShareRowCause","ApexTrigger","TabSet","ProcessDefinition","ContentAsset","AssignmentRule","AssistantRecommendationType","AuthProvider","AutoResponseRule","WebLink","CorsWhitelistEntry","CallCenter","ChatterExtension","CommChannelLayout","CompactLayout","CspTrustedSite","CustomConsoleComponent","CustomFieldDefinition","ExternalString","Custom Metadata Type","CustomEntityDefinition","CustomPermission","CustomReportType","Custom Settings","Dashboard","CleanDataService","Document","DuplicateRule","EclairNgMapGeoJson","EmailTemplate","EscalationRule","EventSubscription","ExternalDataSource","ExternalServiceRegistration","FeedFilterDefinition","FieldMapping","FieldSet","FlowDefinition","Folder","SharedPicklistDefinition","Group","PageComponent","CustomPage","BrandTemplate","CommunityTemplateDefinition","AuraDefinitionBundle","FlexiPage","LightningExperienceTheme","ListView","MatchingRule","MailAppOwaWhitelist","NamedCredential","Network","Layout","PathAssistant","PermissionSet","PlatformCachePartition","FeedPostTemplate","Queues","RecordType","RemoteProxy","Report","ReportJob","UserRole","Scontrol","SecurityCustomBaseline","ActionSend","CustomObjectCriteriaSharingRule","CustomObjectOwnerSharingRule","SharingSet","Site","StaticResource","CustomTabDefinition","UserProvisioningConfig","VF_Email_Template__mdt","ValidationFormula","ApexComponent","ApexPage","CspFrameAncestor","ActionEmail","ActionFieldUpdate","ActionOutboundMessage","WorkflowRule","ActionTask","Community","qbdialer__isTriggerConfig__mdt"],requestSplit=["ListView","Layout"];window.onload=function(){if(window.location.href.indexOf("changemgmt/createOutboundChangeSet.apexp?auto=1")>=0){var e=localStorage.getItem("processStatus"),t=localStorage.getItem("changeSetName"),o=localStorage.getItem("changeSetDescription");if("1"==e){var n=document.querySelector(".pageDescription");n&&(n.innerHTML="Creating New Change Set using automated tool.");var a=document.getElementById("CreateOutboundChangeSetPage:CreateOutboundChangeSetPageBody:CreateOutboundChangeSetPageBody:CreateOutboundChangeSetForm:CreateOutboundChangePageBlock:changesetTableSection:nameSection:changeSetName");a&&(a.value=t);var i=document.getElementById("CreateOutboundChangeSetPage:CreateOutboundChangeSetPageBody:CreateOutboundChangeSetPageBody:CreateOutboundChangeSetForm:CreateOutboundChangePageBlock:changesetTableSection:descriptionSection:changeSetDescription");i&&(i.value=o),localStorage.removeItem("changeSetName"),localStorage.removeItem("changeSetDescription");var r=document.getElementById("CreateOutboundChangeSetPage:CreateOutboundChangeSetPageBody:CreateOutboundChangeSetPageBody:CreateOutboundChangeSetForm:CreateOutboundChangePageBlock:form_buttons:saveChangeSet");r&&(localStorage.setItem("processStatus","2"),setTimeout(r.click(),100))}}if(window.location.href.indexOf("changemgmt/outboundChangeSetDetailPage.apexp")>=0){var l=JSON.parse(localStorage.getItem("changeSet")),s=JSON.parse(localStorage.getItem("profiles")),c=(e=localStorage.getItem("processStatus"),null!=localStorage.getItem("DoneChangeSet")?JSON.parse(localStorage.getItem("DoneChangeSet")):[]);if("2"==e&&l.length>0){var u=l.filter(function(e){return c.indexOf(e.name)<0&&availableResource.indexOf(e.name)>=0});if(console.log(u),u.length>0){(S=document.createElement("div")).style.padding="20px",S.style.backgroundColor="#2196F3",S.style.color="white",S.innerHTML="Your Change Set is in progress. Please Wait...",(p=document.querySelector(".bDescription")).innerHTML="",p.appendChild(S);var g=u[0];sessionStorage.setItem("CurrentProcess",JSON.stringify(g)),localStorage.setItem("DoneChangeSet",JSON.stringify(c));var m=document.getElementById("outboundChangeSetDetailPage:outboundChangeSetDetailPageBody:outboundChangeSetDetailPageBody:detail_form:outboundCs_componentsBlock:component_list_form_buttons:outboundCs_add");setTimeout(m.click(),500)}else if(s.members.length>0){localStorage.setItem("processStatus","3"),(S=document.createElement("div")).style.padding="20px",S.style.backgroundColor="#2196F3",S.style.color="white",S.innerHTML="Your Change Set is in progress. Please Wait...",(p=document.querySelector(".bDescription")).innerHTML="",p.appendChild(S);var d=document.getElementById("outboundChangeSetDetailPage:outboundChangeSetDetailPageBody:outboundChangeSetDetailPageBody:detail_form:outboundCs_profilesBlock:component_list_form_buttons:outboundCs_addProfile");setTimeout(d.click(),500)}else{var S,p;localStorage.removeItem("processStatus"),(S=document.createElement("div")).style.padding="20px",S.style.backgroundColor="#4CAF50",S.style.color="white",S.innerHTML="Your Change Set is ready...",(p=document.querySelector(".bDescription")).innerHTML="",p.appendChild(S)}}if("3"==e&&s.members.length>0)localStorage.removeItem("processStatus"),(S=document.createElement("div")).style.padding="20px",S.style.backgroundColor="#4CAF50",S.style.color="white",S.innerHTML="Your Change Set is ready...",(p=document.querySelector(".bDescription")).innerHTML="",p.appendChild(S)}if(window.location.href.indexOf("p/mfpkg/AddToPackageFromChangeMgmtUi")>=0&&"2"==(e=localStorage.getItem("processStatus"))){var C=getUrlEncodedKey("rowsperpage"),h=getUrlEncodedKey("entityType");if(null!=(g=null!=sessionStorage.getItem("CurrentProcess")?JSON.parse(sessionStorage.getItem("CurrentProcess")):null)){if(""==C||h!=g.name){var f=setUrlEncodedKey("rowsperpage","1500",window.location.search);f=setUrlEncodedKey("entityType",g.name,f),setTimeout(function(){window.location.href=window.location.protocol+"//"+window.location.host+window.location.pathname+f},100)}else if(g&&h==g.name){var y=!1;document.querySelectorAll("input[type=checkbox]").forEach(function(e){e.title.startsWith("Select ")&&e.title.split(" ").length>=2&&(g.members.filter(function(t){return t==convertSFDC15To18(e.value)}).length>0&&(e.checked=!0,y=!0))}),(c=JSON.parse(localStorage.getItem("DoneChangeSet"))).push(g.name);u=(l=JSON.parse(localStorage.getItem("changeSet"))).filter(function(e){return c.indexOf(e.name)<0&&availableResource.indexOf(e.name)>=0});console.log(u),u.length>0?(g=u[0],sessionStorage.setItem("CurrentProcess",JSON.stringify(g)),localStorage.setItem("DoneChangeSet",JSON.stringify(c))):(sessionStorage.removeItem("CurrentProcess"),localStorage.setItem("DoneChangeSet",JSON.stringify(c))),y?setTimeout(document.querySelector("input[name=save]").click(),100):window.location.href=window.location.href}}else localStorage.removeItem("processStatus"),setTimeout(document.querySelector("input[name=cancel]").click(),100)}if(window.location.href.indexOf("changemgmt/outboundChangeSetAddProfile.apexp")>=0){e=localStorage.getItem("processStatus"),s=JSON.parse(localStorage.getItem("profiles"));if("3"==e)if(s.members.length>0){y=!1;document.querySelectorAll("input[type=checkbox]").forEach(function(e){e.title.startsWith("Select ")&&e.title.split(" ").length>=2&&(s.members.filter(function(t){return t==convertSFDC15To18(e.value)}).length>0&&(e.checked=!0,y=!0))}),y?setTimeout(document.querySelector("input[name=save]").click(),100):(localStorage.removeItem("processStatus"),setTimeout(document.querySelector("input[name=cancel]").click(),100))}else localStorage.removeItem("processStatus"),setTimeout(document.querySelector("input[name=cancel]").click(),100)}};
//# sourceMappingURL=contentscript.min.js.map
