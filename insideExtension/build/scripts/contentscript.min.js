"use strict";console.log("'Allo 'Allo! Content script","Xenotime");var availableResource=["QuickActionDefinition","ActionLinkGroupTemplate","ApexClass","CustomShareRowCause","ApexTrigger","TabSet","ProcessDefinition","ContentAsset","AssignmentRule","AssistantRecommendationType","AuthProvider","AutoResponseRule","WebLink","CorsWhitelistEntry","CallCenter","ChatterExtension","CommChannelLayout","CompactLayout","CspTrustedSite","CustomConsoleComponent","CustomFieldDefinition","ExternalString","Custom Metadata Type","CustomEntityDefinition","CustomPermission","CustomReportType","Custom Settings","Dashboard","CleanDataService","Document","DuplicateRule","EclairNgMapGeoJson","EmailTemplate","EscalationRule","EventSubscription","ExternalDataSource","ExternalServiceRegistration","FeedFilterDefinition","FieldMapping","FieldSet","FlowDefinition","Folder","SharedPicklistDefinition","Group","PageComponent","CustomPage","BrandTemplate","CommunityTemplateDefinition","AuraDefinitionBundle","FlexiPage","LightningExperienceTheme","ListView","MatchingRule","MailAppOwaWhitelist","NamedCredential","Network","Layout","PathAssistant","PermissionSet","PlatformCachePartition","FeedPostTemplate","Queues","RecordType","RemoteProxy","Report","ReportJob","UserRole","Scontrol","SecurityCustomBaseline","ActionSend","CustomObjectCriteriaSharingRule","CustomObjectOwnerSharingRule","SharingSet","Site","StaticResource","CustomTabDefinition","UserProvisioningConfig","VF_Email_Template__mdt","ValidationFormula","ApexComponent","ApexPage","CspFrameAncestor","ActionEmail","ActionFieldUpdate","ActionOutboundMessage","WorkflowRule","ActionTask","Community","qbdialer__isTriggerConfig__mdt"];Zepto(function(e){if(window.location.href.indexOf("changemgmt/createOutboundChangeSet.apexp?auto=1")>=0){var t=localStorage.getItem("processStatus"),o=localStorage.getItem("changeSetName"),n=localStorage.getItem("changeSetDescription");if("1"==t){var a=document.querySelector(".pageDescription");a&&(a.innerHTML="Creating New Change Set using automated tool.");var i=document.getElementById("CreateOutboundChangeSetPage:CreateOutboundChangeSetPageBody:CreateOutboundChangeSetPageBody:CreateOutboundChangeSetForm:CreateOutboundChangePageBlock:changesetTableSection:nameSection:changeSetName");i&&(i.value=o);var r=document.getElementById("CreateOutboundChangeSetPage:CreateOutboundChangeSetPageBody:CreateOutboundChangeSetPageBody:CreateOutboundChangeSetForm:CreateOutboundChangePageBlock:changesetTableSection:descriptionSection:changeSetDescription");r&&(r.value=n),localStorage.removeItem("changeSetName"),localStorage.removeItem("changeSetDescription");var l=document.getElementById("CreateOutboundChangeSetPage:CreateOutboundChangeSetPageBody:CreateOutboundChangeSetPageBody:CreateOutboundChangeSetForm:CreateOutboundChangePageBlock:form_buttons:saveChangeSet");l&&(localStorage.setItem("processStatus","2"),setTimeout(l.click(),100))}}if(window.location.href.indexOf("changemgmt/outboundChangeSetDetailPage.apexp")>=0){var s=JSON.parse(localStorage.getItem("changeSet")),c=JSON.parse(localStorage.getItem("profiles")),u=(t=localStorage.getItem("processStatus"),null!=localStorage.getItem("DoneChangeSet")?JSON.parse(localStorage.getItem("DoneChangeSet")):[]);if("2"==t&&s.length>0){var g=s.filter(function(e){return u.indexOf(e.name)<0&&availableResource.indexOf(e.name)>=0});if(console.log(g),g.length>0){(p=document.createElement("div")).style.padding="20px",p.style.backgroundColor="#2196F3",p.style.color="white",p.innerHTML="Your Change Set is in progress. Please Wait...",(C=document.querySelector(".bDescription")).innerHTML="",C.appendChild(p);var m=g[0];sessionStorage.setItem("CurrentProcess",JSON.stringify(m)),localStorage.setItem("DoneChangeSet",JSON.stringify(u));var d=document.getElementById("outboundChangeSetDetailPage:outboundChangeSetDetailPageBody:outboundChangeSetDetailPageBody:detail_form:outboundCs_componentsBlock:component_list_form_buttons:outboundCs_add");setTimeout(d.click(),500)}else if(c.members.length>0){localStorage.setItem("processStatus","3"),(p=document.createElement("div")).style.padding="20px",p.style.backgroundColor="#2196F3",p.style.color="white",p.innerHTML="Your Change Set is in progress. Please Wait...",(C=document.querySelector(".bDescription")).innerHTML="",C.appendChild(p);var S=document.getElementById("outboundChangeSetDetailPage:outboundChangeSetDetailPageBody:outboundChangeSetDetailPageBody:detail_form:outboundCs_profilesBlock:component_list_form_buttons:outboundCs_addProfile");setTimeout(S.click(),500)}else{var p,C;localStorage.removeItem("processStatus"),(p=document.createElement("div")).style.padding="20px",p.style.backgroundColor="#4CAF50",p.style.color="white",p.innerHTML="Your Change Set is ready...",(C=document.querySelector(".bDescription")).innerHTML="",C.appendChild(p)}}if("3"==t&&c.members.length>0)localStorage.removeItem("processStatus"),(p=document.createElement("div")).style.padding="20px",p.style.backgroundColor="#4CAF50",p.style.color="white",p.innerHTML="Your Change Set is ready...",(C=document.querySelector(".bDescription")).innerHTML="",C.appendChild(p)}if(window.location.href.indexOf("p/mfpkg/AddToPackageFromChangeMgmtUi")>=0&&"2"==(t=localStorage.getItem("processStatus"))){var h=getUrlEncodedKey("rowsperpage"),f=getUrlEncodedKey("entityType");if(null!=(m=null!=sessionStorage.getItem("CurrentProcess")?JSON.parse(sessionStorage.getItem("CurrentProcess")):null)){if(""==h||f!=m.name){var y=setUrlEncodedKey("rowsperpage","1500",window.location.search);y=setUrlEncodedKey("entityType",m.name,y),setTimeout(function(){window.location.href=window.location.protocol+"//"+window.location.host+window.location.pathname+y},100)}else if(m&&f==m.name){var b=!1;e("input[type=checkbox]").forEach(function(e){e.title.startsWith("Select ")&&e.title.split(" ").length>=2&&(m.members.filter(function(t){return t==convertSFDC15To18(e.value)}).length>0&&(e.checked=!0,b=!0))}),(u=JSON.parse(localStorage.getItem("DoneChangeSet"))).push(m.name);g=(s=JSON.parse(localStorage.getItem("changeSet"))).filter(function(e){return u.indexOf(e.name)<0&&availableResource.indexOf(e.name)>=0});console.log(g),g.length>0?(m=g[0],sessionStorage.setItem("CurrentProcess",JSON.stringify(m)),localStorage.setItem("DoneChangeSet",JSON.stringify(u))):(sessionStorage.removeItem("CurrentProcess"),localStorage.setItem("DoneChangeSet",JSON.stringify(u))),b?setTimeout(e("input[name=save]").click(),100):window.location.href=window.location.href}}else localStorage.removeItem("processStatus"),setTimeout(e("input[name=cancel]").click(),100)}if(window.location.href.indexOf("changemgmt/outboundChangeSetAddProfile.apexp")>=0){t=localStorage.getItem("processStatus"),c=JSON.parse(localStorage.getItem("profiles"));if("3"==t)if(c.members.length>0){b=!1;e("input[type=checkbox]").each(function(){c.members.filter(function(t){return t.toLowerCase()==e(this).parent().parent().find("td").last().html().toLowerCase()}).length>0&&(e(this).props({checked:!0}),b=!0)}),b?setTimeout(e("input[name=save]").click(),100):(localStorage.removeItem("processStatus"),setTimeout(e("input[name=cancel]").click(),100))}else localStorage.removeItem("processStatus"),setTimeout(e("input[name=cancel]").click(),100)}});
//# sourceMappingURL=contentscript.min.js.map
