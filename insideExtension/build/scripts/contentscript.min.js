"use strict";console.log("'Allo 'Allo! Content script","Xenotime");var availableResource=["QuickActionDefinition","ActionLinkGroupTemplate","ApexClass","CustomShareRowCause","ApexTrigger","TabSet","ProcessDefinition","ContentAsset","AssignmentRule","AssistantRecommendationType","AuthProvider","AutoResponseRule","WebLink","CorsWhitelistEntry","CallCenter","ChatterExtension","CommChannelLayout","CompactLayout","CspTrustedSite","CustomConsoleComponent","CustomFieldDefinition","ExternalString","Custom Metadata Type","CustomEntityDefinition","CustomPermission","CustomReportType","Custom Settings","Dashboard","CleanDataService","Document","DuplicateRule","EclairNgMapGeoJson","EmailTemplate","EscalationRule","EventSubscription","ExternalDataSource","ExternalServiceRegistration","FeedFilterDefinition","FieldMapping","FieldSet","FlowDefinition","Folder","SharedPicklistDefinition","Group","PageComponent","CustomPage","BrandTemplate","CommunityTemplateDefinition","AuraDefinitionBundle","FlexiPage","LightningExperienceTheme","ListView","MatchingRule","MailAppOwaWhitelist","NamedCredential","Network","Layout","PathAssistant","PermissionSet","PlatformCachePartition","FeedPostTemplate","Queues","RecordType","RemoteProxy","Report","ReportJob","UserRole","Scontrol","SecurityCustomBaseline","ActionSend","CustomObjectCriteriaSharingRule","CustomObjectOwnerSharingRule","SharingSet","Site","StaticResource","CustomTabDefinition","UserProvisioningConfig","VF_Email_Template__mdt","ValidationFormula","ApexComponent","ApexPage","CspFrameAncestor","ActionEmail","ActionFieldUpdate","ActionOutboundMessage","WorkflowRule","ActionTask","Community","qbdialer__isTriggerConfig__mdt"],requestSplit=["ListView","Layout"];window.onload=function(){if(window.location.href.indexOf("changemgmt/createOutboundChangeSet.apexp?auto=1")>=0){var e=localStorage.getItem("processStatus"),t=localStorage.getItem("changeSetName"),o=localStorage.getItem("changeSetDescription");if("1"==e){var n=document.querySelector(".pageDescription");n&&(n.innerHTML="Creating New Change Set using automated tool.");var a=document.getElementById("CreateOutboundChangeSetPage:CreateOutboundChangeSetPageBody:CreateOutboundChangeSetPageBody:CreateOutboundChangeSetForm:CreateOutboundChangePageBlock:changesetTableSection:nameSection:changeSetName");a&&(a.value=t);var i=document.getElementById("CreateOutboundChangeSetPage:CreateOutboundChangeSetPageBody:CreateOutboundChangeSetPageBody:CreateOutboundChangeSetForm:CreateOutboundChangePageBlock:changesetTableSection:descriptionSection:changeSetDescription");i&&(i.value=o),localStorage.removeItem("changeSetName"),localStorage.removeItem("changeSetDescription");var r=document.getElementById("CreateOutboundChangeSetPage:CreateOutboundChangeSetPageBody:CreateOutboundChangeSetPageBody:CreateOutboundChangeSetForm:CreateOutboundChangePageBlock:form_buttons:saveChangeSet");r&&(localStorage.setItem("processStatus","2"),setTimeout(r.click(),100))}}if(window.location.href.indexOf("changemgmt/outboundChangeSetDetailPage.apexp")>=0){var l=JSON.parse(localStorage.getItem("changeSet")),s=(e=localStorage.getItem("processStatus"),null!=localStorage.getItem("DoneChangeSet")?JSON.parse(localStorage.getItem("DoneChangeSet")):[]);if("2"==e&&l.length>0){var u=l.filter(function(e){return s.indexOf(e.name)<0&&availableResource.indexOf(e.name)>=0});if(console.log(u),u.length>0){var c=u[0];sessionStorage.setItem("CurrentProcess",JSON.stringify(c)),localStorage.setItem("DoneChangeSet",JSON.stringify(s));var g=document.getElementById("outboundChangeSetDetailPage:outboundChangeSetDetailPageBody:outboundChangeSetDetailPageBody:detail_form:outboundCs_componentsBlock:component_list_form_buttons:outboundCs_add");setTimeout(g.click(),100)}else localStorage.removeItem("processStatus"),alert("Your Change Set is ready...")}}if(window.location.href.indexOf("p/mfpkg/AddToPackageFromChangeMgmtUi")>=0&&"2"==(e=localStorage.getItem("processStatus"))){var m=getUrlEncodedKey("rowsperpage"),S=getUrlEncodedKey("entityType");if(null!=(c=null!=sessionStorage.getItem("CurrentProcess")?JSON.parse(sessionStorage.getItem("CurrentProcess")):null)){if(""==m||S!=c.name){var d=setUrlEncodedKey("rowsperpage","1500",window.location.search);d=setUrlEncodedKey("entityType",c.name,d),setTimeout(function(){window.location.href=window.location.protocol+"//"+window.location.host+window.location.pathname+d},100)}else if(c&&S==c.name){var C=!1;document.querySelectorAll("input[type=checkbox]").forEach(function(e){e.title.startsWith("Select ")&&2==e.title.split(" ").length&&(c.members.filter(function(t){return requestSplit.indexOf(c.name)>=0?subStrAfterChars(t.toLowerCase(),"-","b")==e.title.split(" ")[1].toLowerCase():t.toLowerCase()==e.title.split(" ")[1].toLowerCase()}).length>0&&(e.checked=!0,C=!0))}),(s=JSON.parse(localStorage.getItem("DoneChangeSet"))).push(c.name);u=(l=JSON.parse(localStorage.getItem("changeSet"))).filter(function(e){return s.indexOf(e.name)<0&&availableResource.indexOf(e.name)>=0});console.log(u),u.length>0?(c=u[0],sessionStorage.setItem("CurrentProcess",JSON.stringify(c)),localStorage.setItem("DoneChangeSet",JSON.stringify(s))):(sessionStorage.removeItem("CurrentProcess"),localStorage.setItem("DoneChangeSet",JSON.stringify(s))),C?setTimeout(document.querySelector("input[name=save]").click(),100):window.location.href=window.location.href}}else null!=e&&(localStorage.removeItem("processStatus"),setTimeout(document.querySelector("input[name=cancel]").click(),100))}};
//# sourceMappingURL=contentscript.min.js.map
